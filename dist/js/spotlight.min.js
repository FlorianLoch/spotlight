/**
 * Spotlight.js v0.7.53
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/spotlight
 */
(function(){'use strict';Object.assign||(Object.assign=function(a,b){for(var c=Object.keys(b),e=0,f;e<c.length;e++)f=c[e],a[f]=b[f];return a});Element.prototype.closest||(Element.prototype.closest=function(a){a=a.substring(1);for(var b=this;b&&1===b.nodeType;){if(b.classList.contains(a))return b;b=b.parentElement}return null});function d(a,b){a.classList.add(b)}function g(a,b){a.classList.remove(b)}function h(a,b,c){c=""+c;a["_s_"+b]!==c&&(a.style.setProperty(b,c),a["_s_"+b]=c)}var aa=0;function ba(a,b){h(a,"transition","none");b();aa||(aa=a.clientTop&&0);h(a,"transition","")}function k(a,b,c,e){a.addEventListener(b,c,e||!1===e?e:!0)}function ca(a,b,c,e){a.removeEventListener(b,c,e||!1===e?e:!0)}function da(a,b){a.stopPropagation();b&&a.preventDefault()};var l=document.createElement("div");l.id="spotlight";l.innerHTML="<div class=spl-spinner></div><div class=spl-track><div class=spl-scene><div class=spl-pane></div></div></div><div class=spl-header><div class=spl-page> </div></div><div class=spl-progress></div><div class=spl-footer><div class=spl-title> </div><div class=spl-description> </div><div class=spl-button> </div></div><div class=spl-prev></div><div class=spl-next></div>";/*
 toggle_autofit &&*/
var m="theme download play page close autofit zoom-in zoom-out prev next fullscreen".split(" "),ea={page:1,close:1,autofit:1,"zoom-in":1,"zoom-out":1,prev:1,next:1,fullscreen:1},fa=document.createElement("video"),p={},ha={},q,r,ia,ja,t,ka,la,ma,u,na,oa,pa,v,w,x,y,z,A,qa,B,C,ra,sa,ta,ua,va,wa,D,xa,ya,za,Aa,Ba,Ca,Da,Ea,E,F,G,H,I,Fa=document.createElement("img"),J,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,K,Qa,M,N,O,P,Ra,Q,Sa;k(document,"click",Ta);
function Ua(){function a(c){return p[c]=(l||document).getElementsByClassName("spl-"+c)[0]}if(!F){F=document.body;J=a("scene");Ga=a("header");Ha=a("footer");Ia=a("title");Ja=a("description");Ka=a("button");La=a("prev");Ma=a("next");Oa=a("page");K=a("progress");Qa=a("spinner");H=[a("pane")];R("close",Va);F[Q="requestFullscreen"]||F[Q="msRequestFullscreen"]||F[Q="webkitRequestFullscreen"]||F[Q="mozRequestFullscreen"]||(Q="");Q?(Sa=Q.replace("request","exit").replace("mozRequest","mozCancel").replace("Request",
"Exit"),Na=R("fullscreen",Wa)):m.pop();R("autofit",S);R("zoom-in",Xa);R("zoom-out",Ya);R("theme",Za);Pa=R("play",T);R("download",$a);k(La,"click",ab);k(Ma,"click",U);var b=a("track");k(b,"mousedown",bb);k(b,"mousemove",cb);k(b,"mouseleave",db);k(b,"mouseup",db);k(b,"touchstart",bb,{passive:!1});k(b,"touchmove",cb,{passive:!0});k(b,"touchend",db);k(Ka,"click",function(){Aa?Aa(x,A):za&&(location.href=za)})}}
function R(a,b){var c=document.createElement("div");c.className="spl-"+a;k(c,"click",b);Ga.appendChild(c);return p[a]=c}function Ta(a){var b=a.target.closest(".spotlight");if(b){da(a,!0);a=b.closest(".spotlight-group");z=(a||document).getElementsByClassName("spotlight");for(var c=0;c<z.length;c++)if(z[c]===b){B=a&&a.dataset;fb(c+1);break}}}
function fb(a){if(y=z.length){F||Ua();sa&&sa(a);for(var b=H[0],c=b.parentNode,e=H.length;e<y;e++){var f=b.cloneNode(!1);h(f,"left",100*e+"%");c.appendChild(f);H[e]=f}G||(F.appendChild(l),gb());x=a||1;V(J);hb(!0);history.pushState({spl:1},"");history.pushState({spl:2},"");ib(l);d(F,"hide-scrollbars");d(l,"show");jb(!0);gb();W();D&&T()}}function X(a,b){a=A[a];return"undefined"!==typeof a?(a=""+a,"false"!==a&&(a||b)):b}
function kb(a){a?ba(I,kb):((Ea?ib:V)(J),h(I,"opacity",Da?0:1),lb(Ca&&.8),E&&d(I,E))}
function mb(a){G=H[a-1];I=G.firstChild;x=a;if(I)v&&S(),va&&d(I,va),kb(!0),E&&g(I,E),Da&&h(I,"opacity",1),Ca&&h(I,"transform",""),h(I,"visibility","visible"),N&&(Fa.src=N);else{var b=M.media,c=X("spinner",!0);if("video"===b)Y(c,!0),I=document.createElement("video"),I.onloadedmetadata=function(){I===this&&(I.onerror=null,I.width=I.videoWidth,I.height=I.videoHeight,nb(),Y(c),mb(a))},I.poster=A.poster,I.preload=ya?"auto":"metadata",I.controls=X("controls",!0),I.autoplay=D,I.h=X("inline"),I.muted=X("muted"),
I.src=M.src,G.appendChild(I);else{if("node"===b){I=M.src;"string"===typeof I&&(I=document.querySelector(I));I&&(I.g||(I.g=I.parentNode),nb(),G.appendChild(I),mb(a));return}Y(c,!0);I=document.createElement("img");I.onload=function(){I===this&&(I.onerror=null,Y(c),mb(a),nb())};I.src=M.src;G.appendChild(I)}I&&(c||h(I,"visibility","visible"),I.onerror=function(){I===this&&(ob(I),d(Qa,"error"),Y(c))})}}function Y(a,b){a&&(b?d:g)(Qa,"spin")}
function pb(){return document.fullscreen||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement}function qb(){gb();I&&nb();Q&&(pb()?d(Na,"on"):(g(Na,"on"),rb(Na,0<=screen.availHeight-window.outerHeight)))}function gb(){t=l.clientWidth;ka=l.clientHeight}function nb(){la=I.clientWidth;ma=I.clientHeight}function lb(a){h(I,"transform","translate(-50%, -50%) scale("+(a||u)+")")}function Z(a,b){h(G,"transform",a||b?"translate("+a+"px, "+b+"px)":"")}
function sb(a,b,c){b?ba(J,function(){sb(a,!1,c)}):h(J,"transform","translateX("+(100*-a+(c||0))+"%)")}function jb(a){a=a?k:ca;a(window,"keydown",tb);a(window,"wheel",ub);a(window,"resize",qb);a(window,"popstate",vb)}function vb(a){G&&a.state.spl&&Va(!0)}function tb(a){if(G)switch(a.keyCode){case 8:S();break;case 27:Va();break;case 32:D&&T();break;case 37:ab();break;case 39:U();break;case 38:case 107:case 187:Xa();break;case 40:case 109:case 189:Ya()}}
function ub(a){G&&(a=a.deltaY,0>.5*(0>a?1:a?-1:0)?Ya():Xa())}function T(a){("boolean"===typeof a?a:!O)?O||(O=setInterval(U,1E3*Ba),d(Pa,"on"),ra&&xb(!0)):O&&(O=clearInterval(O),g(Pa,"on"),ra&&xb())}function xb(a){ba(K,function(){h(K,"transition-duration","");h(K,"transform","")});a&&(h(K,"transition-duration",Ba+"s"),h(K,"transform","translateX(0)"))}function W(){wa&&(Ra=Date.now()+2950,P||(d(l,"menu"),yb(3E3)))}
function yb(a){P=setTimeout(function(){var b=Date.now();b>=Ra?(g(l,"menu"),P=0):yb(Ra-b)},a)}function zb(a){"boolean"===typeof a&&(P=a?P:0);P?(P=clearTimeout(P),g(l,"menu")):W()}function bb(a){da(a,!0);na=!0;oa=!1;var b=a.touches;b&&(b=b[0])&&(a=b);pa=la*u<=t;ia=a.pageX;ja=a.pageY;V(G)}function db(a){da(a);if(na){if(oa){if(pa&&oa){var b=(a=q<-(t/7)&&(x<y||C))||q>t/7&&(1<x||C);if(a||b)sb(x-1,!0,q/t*100),a&&U()||b&&ab();q=0;Z()}ib(G)}else zb();na=!1}}
function cb(a){da(a);if(na){var b=a.touches;b&&(b=b[0])&&(a=b);b=(la*u-t)/2;q-=ia-(ia=a.pageX);pa||(q>b?q=b:q<-b&&(q=-b),ma*u>ka&&(b=(ma*u-ka)/2,r-=ja-(ja=a.pageY),r>b?r=b:r<-b&&(r=-b)));oa=!0;Z(q,r)}else W()}function Wa(a){var b=pb();if("boolean"!==typeof a||a!==!!b)if(b)document[Sa]();else l[Q]()}function Za(a){"string"!==typeof a&&(a=w?"":xa||"white");w!==a&&(w&&g(l,w),a&&d(l,a),w=a)}
function S(a){"boolean"===typeof a&&(v=!a);(v=1===u&&!v)?d(I,"autofit"):g(I,"autofit");h(I,"transform","");u=1;r=q=0;nb();V(G);Z()}function Xa(){var a=u/.65;50>=a&&(v&&S(),q/=.65,r/=.65,Z(q,r),Ab(a))}function Ya(){var a=.65*u;v&&S();1<=a&&(1===a?q=r=0:(q*=.65,r*=.65),Z(q,r),Ab(a))}function Ab(a){u=a||1;lb()}function $a(){var a=document.createElement("a");a.href=I.src;a.download=I.src.substring(I.src.lastIndexOf("/")+1);F.appendChild(a);a.click();F.removeChild(a)}
function Va(a){setTimeout(function(){F.removeChild(l);G=I=M=A=B=z=sa=ta=ua=Aa=null},200);g(F,"hide-scrollbars");g(l,"show");Wa(!1);jb();history.go(!0===a?-1:-2);N&&(Fa.src="");O&&T();I&&ob(I);P&&zb(!0);w&&Za();ua&&ua()}function ob(a){if(a.g)a.g.appendChild(a),a.g=null;else{var b=a.parentNode;b&&b.removeChild(a);a.src=a.onerror=""}}function ab(a){a&&W();if(1<y){if(1<x)return Bb(x-1);if(C)return sb(y,!0),Bb(y)}}function U(a){a&&W();if(1<y){if(x<y)return Bb(x+1);if(C)return sb(-1,!0),Bb(1);O&&T()}}
function Bb(a){if(a!==x){O?T():W();var b=a>x;x=a;hb(b);D&&T();return!0}}var Cb=navigator.connection,Db=window.devicePixelRatio||1;
function Eb(a,b,c){if("node"!==qa)for(var e=Object.keys(c),f=0,n;f<e.length;f++)if(n=e[f],3<n.length&&0===n.indexOf("src"))if("video"===qa){var L=ha[n];if(L){if(0<L){var eb=c[n];break}}else if(fa.canPlayType("video/"+n.substring(3).toLowerCase())){ha[n]=1;eb=c[n];break}else ha[n]=-1}else if(L=parseInt(n.substring(4),10))if(L=Math.abs(b-L),!wb||L<wb){var wb=L;eb=c[n]}return eb||c.src||c.href||a.src||a.href}
function Fb(a){var b=z[x-1],c=b;A={};B&&Object.assign(A,B);Object.assign(A,c.dataset||c);qa=A.media;Aa=A.onclick;xa=A.theme;wa=X("autohide",!0);C=X("infinite");ra=X("progress",!0);D=X("autoplay");ya=X("preload",!0);za=A.buttonHref;Ba=D&&parseFloat(D)||7;w||xa&&Za(xa);if(c=A.control){c="string"===typeof c?c.split(","):c;for(var e=0;e<m.length;e++)A[m[e]]=!1;for(e=0;e<c.length;e++){var f=c[e].trim();"zoom"===f?A["zoom-in"]=A["zoom-out"]=!0:A[f]=!0}}c=A.animation;Ca=Da=Ea=!c;E=!1;if(c)for(c="string"===
typeof c?c.split(","):c,e=0;e<c.length;e++)f=c[e].trim(),"scale"===f?Ca=!0:"fade"===f?Da=!0:"slide"===f?Ea=!0:f&&(E=f);va=A.fit;e=Cb&&Cb.downlink;c=Math.max(ka,t)*Db;e&&1200*e<c&&(c=1200*e);var n;M={media:qa,src:Eb(b,c,A),title:X("title",b.alt||b.title||(n=b.firstElementChild)&&(n.alt||n.title))};N&&(Fa.src=N="");ya&&a&&(b=z[x])&&(a=b.dataset||b,(n=a.media)&&"image"!==n||(N=Eb(b,c,a)));for(b=0;b<m.length;b++)a=m[b],rb(p[a],X(a,ea[a]))}
function hb(a){r=q=0;u=1;Fb(a);sb(x-1);if(I)if(I.onerror)ob(I);else{var b=I;setTimeout(function(){b&&I!==b&&(ob(b),b=null)},650);kb();Z()}g(Qa,"error");mb(x);V(G);Z();a=M.title;var c=X("description"),e=X("button"),f=a||c||e;f&&(a&&(Ia.firstChild.nodeValue=a),c&&(Ja.firstChild.nodeValue=c),e&&(Ka.firstChild.nodeValue=e),rb(Ia,a),rb(Ja,c),rb(Ka,e),h(Ha,"transform","all"===wa?"":"none"));wa||d(l,"menu");Gb(Ha,f);Gb(La,C||1<x);Gb(Ma,C||x<y);Oa.firstChild.nodeValue=1<y?x+" / "+y:"";ta&&ta(x,A)}
function rb(a,b){h(a,"display",b?"":"none")}function Gb(a,b){h(a,"visibility",b?"":"hidden")}function V(a){h(a,"transition","none")}function ib(a){h(a,"transition","")};window.Spotlight={init:Ua,theme:Za,fullscreen:Wa,download:$a,autofit:S,next:U,prev:ab,goto:Bb,close:Va,zoom:Ab,menu:zb,show:function(a,b,c){z=a;b&&(B=b,sa=b.onshow,ta=b.onchange,ua=b.onclose,c=c||b.index);fb(c)},play:T,addControl:R,removeControl:function(a){var b=p[a];b&&(Ga.removeChild(b),p[a]=null)}};}).call(this);
